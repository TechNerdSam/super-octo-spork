<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de Bord √âco-Gestes 2025</title>
    <!-- Chargement de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Police : Inter (toujours un excellent choix pour 2025) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            /* L'arri√®re-plan principal est un noir profond pour faire ressortir le "glassmorphism" */
            background-color: #050505;
        }

        /* --- NOUVEL ARRI√àRE-PLAN "AURORA" --- */
        /* Plus ambiant, plus lent, et plus grand pour un effet "premium" */
        @keyframes subtlePan {
            0% { transform: translate(0%, 0%) rotate(0deg); }
            25% { transform: translate(10%, -15%) rotate(3deg); }
            50% { transform: translate(-10%, 15%) rotate(-2deg); }
            75% { transform: translate(15%, 5%) rotate(1deg); }
            100% { transform: translate(0%, 0%) rotate(0deg); }
        }

        .aurora-blur {
            position: fixed;
            width: 800px; /* Beaucoup plus grand */
            height: 800px;
            border-radius: 9999px;
            filter: blur(200px); /* Flou tr√®s intense */
            opacity: 0.15; /* Subtil */
            z-index: -1;
            animation: subtlePan 60s cubic-bezier(0.4, 0, 0.6, 1) infinite alternate;
        }
        
        /* --- NOUVELLE CARTE "BENTO BOX" --- */
        /* Style de base pour chaque bo√Æte de la grille */
        .bento-box {
            /* Glassmorphism raffin√© : fond sombre, l√©g√®rement transparent */
            background-color: rgba(16, 16, 16, 0.7); /* Plus sombre que le bg/50 */
            /* Le backdrop-blur est la cl√© */
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            /* Bordure subtile pour "attraper" la lumi√®re */
            border: 1px solid rgba(255, 255, 255, 0.08);
            /* Coins tr√®s arrondis, tendance 2025 */
            border-radius: 24px; /* √©quivaut √† rounded-3xl de Tailwind */
            padding: 24px; /* p-6 */
            /* Ombre douce pour un effet de profondeur */
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            /* Animation d'apparition */
            transform: translateY(20px);
            opacity: 0;
            animation: fadeInUp 0.6s cubic-bezier(0.23, 1, 0.32, 1) forwards;
            position: relative;
            overflow: hidden; /* Pour les effets de lueur internes */
        }
        
        /* Animation d'apparition pour les bo√Ætes */
        @keyframes fadeInUp {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* --- EFFET DE LUEUR AU SURVOL --- */
        /* Une lueur subtile suit la souris √† l'int√©rieur de la bo√Æte */
        .bento-box::before {
            content: '';
            position: absolute;
            z-index: 0;
            left: var(--x, 50%);
            top: var(--y, 50%);
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            background: radial-gradient(circle closest-side, rgba(0, 230, 230, 0.15), transparent);
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.4s, left 0.2s, top 0.2s;
            pointer-events: none; /* Important */
        }
        .bento-box:hover::before {
            opacity: 1;
        }

        /* Conteneur pour le contenu textuel (pour les animations) */
        .content-swap {
            transition: opacity 0.4s ease, transform 0.4s ease;
            will-change: opacity, transform;
        }
        /* Classes pour l'animation de changement de contenu */
        .fade-out {
            opacity: 0;
            transform: translateY(10px);
        }
        .fade-in {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Texture "Grain" (Noise) --- */
        /* Toujours une bonne touche pour le design 2025 */
        body::after {
            content: "";
            position: fixed;
            inset: 0;
            z-index: 1; /* Au-dessus de l'aurora, en dessous du contenu */
            opacity: 0.03;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJub2lzZSI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuNyIgbnVtT2N0YXZlcz0iMiIgc3RpdGNoVGlsZXM9InN0aXRjaCIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWx0ZXI9InVybCgjbnopIiBvcGFjaXR5PSIwLjEzIi8+PC9zdmc+');
            pointer-events: none;
        }
        
    </style>
</head>
<body class="text-gray-100 flex items-center justify-center min-h-screen p-4 md:p-8 relative overflow-hidden">

    <!-- Arri√®re-plan Aurora -->
    <div class="fixed inset-0 z-[-1]">
        <!-- Couleur 1: Cyan/Teal (√âcologie) -->
        <div class="aurora-blur" style="background-color: #06B6D4; top: -20%; left: -20%;"></div>
        <!-- Couleur 2: Indigo (Technologie) -->
        <div class="aurora-blur" style="background-color: #4F46E5; bottom: -20%; right: -20%; animation-delay: -30s;"></div>
    </div>

    <!-- Conteneur principal (le contenu est au-dessus du grain) -->
    <main class="w-full max-w-5xl mx-auto z-10 relative">
        
        <header class="mb-8 text-center" style="animation: fadeInUp 0.5s forwards; opacity: 0;">
            <!-- Titre principal, typographie moderne -->
            <h1 class="text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-blue-400 mb-2">
                Votre Impact √âcologique
            </h1>
            <p class="text-lg text-gray-400">Chaque geste compte. D√©couvrez votre s√©lection du jour.</p>
        </header>

        <!-- NOUVELLE GRILLE BENTO (le c≈ìur de la refonte) -->
        <!-- Responsive : 1 colonne sur mobile (col-span-3), 3 colonnes sur desktop -->
        <div class="grid grid-cols-3 gap-6">

            <!-- BO√éTE 1 : GESTE PRINCIPAL (prend 2/3 de la largeur) -->
            <div class="bento-box col-span-3 md:col-span-2 md:row-span-2 flex flex-col justify-between" style="animation-delay: 0.1s;">
                <div id="main-tip-content" class="content-swap relative z-10">
                    <!-- Le contenu sera inject√© par JS ici -->
                </div>
                <!-- Espace r√©serv√© pour garder la hauteur lors du rechargement -->
                <div class="min-h-[250px]"></div>
            </div>

            <!-- BO√éTE 2 : GESTE SECONDAIRE 1 -->
            <div class="bento-box col-span-3 md:col-span-1" style="animation-delay: 0.2s;">
                <div id="secondary-tip-1-content" class="content-swap relative z-10">
                    <!-- Le contenu sera inject√© par JS ici -->
                </div>
                <div class="min-h-[100px]"></div>
            </div>

            <!-- BO√éTE 3 : BOUTON DE RAFRA√éCHISSEMENT (devient un √©l√©ment d'UI) -->
            <div id="refresh-button" class="bento-box col-span-3 md:col-span-1 flex flex-col justify-center items-center text-center cursor-pointer group bg-cyan-600/30 hover:bg-cyan-500/40 transition-colors duration-300" style="animation-delay: 0.3s;">
                <div class="relative z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-10 h-10 text-cyan-200 group-hover:rotate-90 transition-transform duration-300">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
                    </svg>
                    <h3 class="text-xl font-bold mt-2 text-cyan-100">Nouveaux Gestes</h3>
                    <p class="text-sm text-cyan-300">Cliquez pour rafra√Æchir</p>
                </div>
            </div>

            <!-- BO√éTE 4 : STATISTIQUE (ou geste secondaire 2) -->
            <div class="bento-box col-span-3 md:col-span-3" style="animation-delay: 0.4s;">
                <div id="secondary-tip-2-content" class="content-swap relative z-10">
                    <!-- Le contenu sera inject√© par JS ici -->
                </div>
                <div class="min-h-[80px]"></div>
            </div>
            
        </div>
    </main>

    <!-- D√âBUT DU SCRIPT -->
    <script>
        // --- NOUVELLE STRUCTURE DE DONN√âES ---
        // Ajout d'ic√¥nes pour une UI plus riche
        const ecoGestures = [
            {
                icon: "üí°",
                title: "√âteignez les lumi√®res",
                description: "Pensez √† √©teindre les lumi√®res en quittant une pi√®ce. Un geste simple qui √©conomise de l'√©nergie et r√©duit votre facture."
            },
            {
                icon: "üíß",
                title: "Pr√©f√©rez la douche au bain",
                description: "Une douche rapide (5 min) consomme 40-60 litres d'eau, contre 150-200 litres pour un bain. L'√©conomie est massive !"
            },
            {
                icon: "‚ôªÔ∏è",
                title: "Triez vos d√©chets",
                description: "Le recyclage permet de donner une seconde vie aux mat√©riaux. Une bouteille en plastique peut redevenir une bouteille."
            },
            {
                icon: "üîå",
                title: "D√©branchez les appareils en veille",
                description: "La 'consommation fant√¥me' des appareils en veille peut repr√©senter jusqu'√† 10% de votre facture d'√©lectricit√©."
            },
            {
                icon: "üçæ",
                title: "Utilisez une gourde",
                description: "Chaque seconde, 10 000 bouteilles en plastique sont consomm√©es dans le monde. Une gourde r√©utilisable change la donne."
            },
            {
                icon: "üçé",
                title: "Mangez local et de saison",
                description: "Consommer local r√©duit l'empreinte carbone li√©e au transport et soutient l'√©conomie de votre r√©gion."
            },
            {
                icon: "üå°Ô∏è",
                title: "Baissez le chauffage d'1¬∞C",
                description: "Incroyable mais vrai : baisser votre chauffage de seulement 1¬∞C peut r√©duire votre consommation d'√©nergie de 7%."
            },
            {
                icon: "üç≥",
                title: "Mettez un couvercle sur vos casseroles",
                description: "En couvrant vos casseroles pendant la cuisson, vous gardez la chaleur et √©conomisez jusqu'√† 25% d'√©nergie."
            },
            {
                icon: "üö≤",
                title: "Marchez ou p√©dalez",
                description: "Pour les trajets courts (moins de 5 km), laissez la voiture au garage. C'est bon pour vous et pour la plan√®te."
            },
            {
                icon: "üö´",
                title: "Stop √† la publicit√© papier",
                description: "Un autocollant 'Stop Pub' sur votre bo√Æte aux lettres peut vous √©pargner jusqu'√† 30kg de papier par an."
            },
            {
                icon: "üîß",
                title: "R√©parez au lieu de jeter",
                description: "Avant de jeter, demandez-vous : 'Est-ce r√©parable ?'. L'√©conomie circulaire commence ici."
            },
            {
                icon: "üíª",
                title: "Optimisez vos e-mails",
                description: "Ne stockez pas d'e-mails inutiles et compressez vos pi√®ces jointes. Les data centers consomment √©norm√©ment d'√©nergie."
            }
        ];

        // --- R√âF√âRENCES AUX √âL√âMENTS DU DOM ---
        const mainTipContainer = document.getElementById('main-tip-content');
        const secondaryTip1Container = document.getElementById('secondary-tip-1-content');
        const secondaryTip2Container = document.getElementById('secondary-tip-2-content');
        const refreshButton = document.getElementById('refresh-button');

        let isUpdating = false; // Verrou pour √©viter les double-clics

        // --- FONCTION DE RAFRA√éCHISSEMENT DES GESTES ---
        function updateGestures() {
            if (isUpdating) return; // Emp√™che l'ex√©cution si d√©j√† en cours
            isUpdating = true;

            // 1. Appliquer les classes de fondu "sortant"
            [mainTipContainer, secondaryTip1Container, secondaryTip2Container].forEach(container => {
                container.classList.add('fade-out');
                container.classList.remove('fade-in');
            });

            // 2. Attendre la fin de l'animation "sortante"
            setTimeout(() => {
                // 3. M√©langer et s√©lectionner les nouveaux gestes
                const shuffledGestures = [...ecoGestures].sort(() => 0.5 - Math.random());
                
                const mainTip = shuffledGestures[0];
                const secondaryTip1 = shuffledGestures[1];
                const secondaryTip2 = shuffledGestures[2]; // Un troisi√®me geste pour la bo√Æte du bas

                // 4. Injecter le nouveau contenu HTML
                mainTipContainer.innerHTML = `
                    <span class="text-5xl mb-4 block">${mainTip.icon}</span>
                    <h2 class="text-3xl md:text-4xl font-extrabold text-white mb-3">
                        ${mainTip.title}
                    </h2>
                    <p class="text-lg text-gray-300 leading-relaxed">
                        ${mainTip.description}
                    </p>
                `;

                secondaryTip1Container.innerHTML = `
                    <span class="text-4xl mb-3 block">${secondaryTip1.icon}</span>
                    <h3 class="text-2xl font-bold text-white">
                        ${secondaryTip1.title}
                    </h3>
                `;

                secondaryTip2Container.innerHTML = `
                    <div class="flex items-center gap-4">
                        <span class="text-4xl">${secondaryTip2.icon}</span>
                        <div>
                            <h3 class="text-2xl font-bold text-white">
                                ${secondaryTip2.title}
                            </h3>
                            <p class="text-gray-400">Pensez-y aussi !</p>
                        </div>
                    </div>
                `;

                // 5. Appliquer les classes de fondu "entrant"
                [mainTipContainer, secondaryTip1Container, secondaryTip2Container].forEach(container => {
                    container.classList.remove('fade-out');
                    container.classList.add('fade-in');
                });
                
                isUpdating = false; // Lib√©rer le verrou
            }, 400); // Doit correspondre √† la dur√©e de transition CSS
        }

        // --- √âV√âNEMENTS ---

        // Rafra√Æchissement au clic
        refreshButton.addEventListener('click', updateGestures);

        // Rafra√Æchissement automatique (5 minutes, comme dans l'original)
        setInterval(updateGestures, 5 * 60 * 1000);

        // Premier chargement
        document.addEventListener('DOMContentLoaded', () => {
            // Initialiser le contenu sans d√©lai pour le premier chargement
            // On force un √©tat "fade-in" initial
            [mainTipContainer, secondaryTip1Container, secondaryTip2Container].forEach(container => {
                container.classList.add('fade-in');
            });
            updateGestures();
        });

        // --- EFFET DE LUEUR SUR LES BO√éTES BENTO ---
        document.querySelectorAll('.bento-box').forEach(box => {
            box.addEventListener('mousemove', (e) => {
                const rect = box.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                box.style.setProperty('--x', `${x}px`);
                box.style.setProperty('--y', `${y}px`);
            });
        });

    </script>
</body>
</html>
